---
title: GPS-трекеры
date: 2023-06-17
layout: post
---

Трекеры позволяют отправлять местоположение со смартфонов поисково-спасательных групп и одновременно показывать все такие группы на карте. Особенно полезны для координации нескольких независимых подразделений, а также предоставления оперативного отчета об уже проделанной работе без необходимости отправлять трек отдельно в конце задачи.

## Как подключать поддерживаемые трекеры

### Traccar Client
Наш выбор для превращения смартфона в трекер. Есть много других приложений, но, во-первых, многие из них платные, а во-вторых, здесь специализированное приложение, и за счет этого очень простое и очень надёжное.

#### Подготовка к использованию
1) Скачать приложение на телефон/планшет:
**Android**
<picture>
  <img src="/assets/images/qr-traccar-android.png" />
</picture>
[Скачать](https://play.google.com/store/apps/details?id=org.traccar.client) для Android

**iOS**
<picture>
  <img src="/assets/images/qr-traccar-ios.png" />
</picture>
[Скачать](https://apps.apple.com/us/app/traccar-client/id843156974) для iPhone/iPad

2) Открыть в Telegram диалог с ботом [SASBot](https://t.me/extremum_sasbot) (@extremum_sasbot) или открыть бота по QR коду:
<picture>
  <img src="/assets/images/qr-sasbot.png"/>
</picture>

3) Написать боту команду **/traccar** или выбрать её в меню
В ответ вы получите ссылку примерно такого содержания: https://layers.extremum.org/v2/webhook/trackers/123/. В этой ссылке содержится адрес сервера (если отправлять координаты в никуда, то они и будут нигде) и ваш идентификатор. С помощью идентификатора система сможет определять, от кого координаты пришли, чьё имя показывать, и кому будет отвечать бот.

4) Далее вам потребуется открыть приложение (программе необходимо дать все необходимые доступы при запросе) и скопировать полученную ссылку в графу **URL сервера**

5) В самом приложении в пункте **Точность местоположения** выставить параметр **Высокая**

6) В пункте **Частота** указать, например, **15** (частота отправки/обновления данных на карте и сервере в секундах). Слишком высокая частота будет разряжать устройство многократно быстрее.

#### Как пользоваться  
Когда, например, вы выехали на ПСР или вышли на маршрут, следует зайти в приложение и в графе **Состояние сервиса** передвинуть бегунок. Вы увидите сообщение, что сервис запущен. Сверните приложение (не закрывайте). Вскоре SASbot пришлет вам сообщение примерно такого содержания:
> ##### _Николай, геопозицию вижу, записываю_
> Координаты [3], обновлены: 11:48:52
> 
> N 59 59,473, E 30 14,326
> 
> 59,99121, 30,23877
> 
> N 59 59' 28'', E 30 14' 20''
> 
> Точность: 140 м.

Cпустя короткое время ваша геопозиция будет отображаться на ресурсе [gis.extremum.org](https://gis.extremum.org/) (галочка на слое Трекеры). Вокруг флажка трекера будет окружность, которой обозначается точность определения координат. Если круг огромный, то сначала надо проверить параметр **Точность** и выставить **Высокая**, либо заняться настройкой телефона, например, выключить.

- Если при включении трекера вам долгое время не приходит сообщение с координатами от SASbot, это не страшно. С высокой вероятностью всё работает нормально. Вы можете зайти в ГИС для ПСО, установить галочку на отображении трекеров, найти на карте, где вы примерно находитесь, и посмотреть, видно ли ваше местоположение. Также, возможно, нет нормального сотового покрытия или интернета. Это тоже не проблема, так как приложение накапливает данные, и, как только появится сеть, они будут отправлены.
- Приложение довольно стабильно работает, но, что самое главное, благодаря этому клиенту перемещения спасателей на карте отображаются ровными треками, а не кривыми хаотичными линиями.
- Имя трекера берётся из Telegram, и в графе имени (поле фамилия можно оставить пустым) следует написать то, что вам необходимо.
- Данные отображаются на карте 24 часа. Новый сегмент пишется, если трекер выключен или неактивен один час. При этом трекер может дослать данные за тот час, и разорванная линия востановится. Сохранить трек можно нажав на нужный флажок в ГИС для ПСО.
- После выхода с маршрута или возвращения домой не забывайте выключать трекер.
- Для корректного отображения времени последней активности необходима установка правильного времени на устройстве либо автоматическая синхронизация с временем оператора. Система не принимает данные от трекеров, которые считают, что они далеко в будущем - не оставлять же их на карте навечно?

#### Рекомендации для Android
Желательно зайти в:
**Настройки** > **Питание и производительность** > **Контроль активности** > **Traccar** и выбрать **Нет ограничений**. Без этого возможно отключение фоновой работы трекера через определенное время на некоторых устройствах. Если на вашем устройстве такой настройки нет, то помните, что на Android настройки на разных устройствах не только имеют разные названия, но и зачастую перемещаются по разделам компаниями производителями при обновлениях, поэтому вам нужно найти все возможные исключения энергосбережения и разрешить Traccar работать без ограничений. Попробуйте поискать инструкцию для своего устройства на [dontkillmyapp.com](https://dontkillmyapp.com) (англ.)

При использовании в качестве трекера отдельного устройства установите в настройках режим мобильной сети **Только 2G**, что сильно сэкономит заряд. Также включите определение местоположения **Только по спутникам GPS** (доступно только на аппаратах с Android до версии 8.1).

#### Что-то не так
Если вы долгое время (от нескольких недель до месяцев) не использовали приложение, а затем при включении трекера бот не отвечает некоторое время, то причины могут быть следующие:
- ваш трекер _досылает накопленные данные_, которые были собраны прошлый раз, но не успели тогда отправиться. Система их игнорирует потому что они сильно устарели. Когда будут отправлены новые данные, система их примет как обычно. Если вы после возникновения проблемы уже добрались до чтения справки, а бот всё ещё не отвечает, то причина скорее всего не в этом.
- вы случайно или сознательно _заблокировали бота_. Он не может вам ответить. Проверьте, что вы можете написать боту любое текстовое сообщение или отправить команду.
- У давно не используемого приложения система отобрала разрешения. Когда вы зайдёте в Traccar Client он запросит разрешения заново.
- Ссылку вы могли получить с какой-нибудь старой учетной записи, и именно туда бот и пытается отвечать.
- Если бот всё равно не реагирует, то нажмите на **Статус** (англ. **Status**) в верхнем правом углу приложения, в списке событий найдите строчку **Обновление местоположения** (англ. **Location update**). Это событие означает, что местоположение было определено и успешно отправлено на сервер. Если в списке только ошибки отправки местоположения, то ваш телефон не может отправить свое местоположение, например, из-за направильных данных в параметре **URL сервера**.

#### Ещё почитать:
- Инструкция и обсуждение [«Трекер клиент Traccar»](https://forum.extremum.org/viewtopic.php?f=6&t=20178) на форуме ПСО Экстремум

### OsmAnd
[Инструкция](https://forum.extremum.org/viewtopic.php?f=6&t=26719) и обсуждение на форуме ПСО Экстремум

### Спутниковые трекеры Iridium
Спутниковые трекеры отправляют данные довольно редко, надо учитывать что данные от трекера будут рваные. Способ подключения таких трекеров отличается от прочих, чтобы ваш трекер Iridium360 был виден на карте нужно:
- создать учётную запись на сайте [iridium360.ru](https://www.iridium360.ru/), если её ещё нет,
- создать "путешествие".

<picture>
  <img src="/assets/images/onlinetracking-iridium-10.png"/>
</picture>

<picture>
  <img src="/assets/images/onlinetracking-iridium-20.png"/>
</picture>

<picture>
  <img src="/assets/images/onlinetracking-iridium-30.png"/>
</picture>

- сделать данные трекера публичными, чтобы их могли видеть любые пользователи iridium360.ru, отметив флажок "публичное"

<picture>
  <img src="/assets/images/onlinetracking-iridium-40.png"/>
</picture>

<picture>
  <img src="/assets/images/onlinetracking-iridium-50.png"/>
</picture>

- отправить боту скопированную ссылку на "путешествие". 

После этого бот будет регулярно проверять, не появилось ли новых точек в путешествии от спутникового трекера, и, когда они появятся, будет показывать эти точки на карте [ГИС для ПСО](https://gis.extremum.org) в слое **Трекеры**.

### Locus Map

### LA Maps Service

### Aircom24 (для летательных аппаратов)
https://aircom24.ru/

### Через SASbot в Telegram

> ##### Что делать если записанный трек прерывается или очень низкого качества?
> Попробуйте найти решение для аналогичного приложения [здесь](https://www.extremum.spb.ru/pages/spasatelmeapp) или [здесь](https://dontkillmyapp.com) по модели телефона.
