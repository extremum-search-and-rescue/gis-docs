---
title: Бот для Telegram
date: 2023-06-16
layout: post
redirect_from:
  - telegrambot-foto.html
  - telegrambot-main.html
  - telegrambot-onlinetracking.html
---

Подключить бота можно пройдя [по ссылке](https://t.me/@extremum_sasbot). Также можно воспользоваться поиском Telegram по имени пользователя **@extremum_sasbot**.

> ##### Почему бот называется **SASbot**?
> Когда-то мы работали в программе "SAS.Планета", но потом огромное количество заявок на поиски потерявшихся в природной среде и интенсивность работы вынудили нас создавать узкоспециализированные инструменты.

Бот умеет:
- принимать геолокацию пользователя и транслировать её на общую карту,
- выдавать ссылки для подключения программых трекеров,
- размещать на общую карту фотографии местности,
- принимать треки поисков на общую карту.

## Местоположение на карте через бота Telegram
Самый доступный, но при этом самый проблемный способ отслеживания местоположения. Понадобится только Telegram на мобильном телефоне. Хорошо применять только для случаев, когда необходимо видеть на карте людей, помогающих на спасработах и не состоящих в вашей организации, например, полицию, пожарных, родственников.

Качество очень сильно зависит от настроек телефона, и часто нет способа добиться высокого качества отправляемых данных.

Как включить:
- установить и войти в приложение **Telegram**,
- перейти к [боту](https://t.me/@extremum_sasbot) и нажать **Start**, если этого ещё не сделано,
- нажать значок **Скрепка**,
- выбрать **Местоположение** (Location),
- **Отправить моё местоположение...** (Share My Live Location for...),
- выбрать нужную длительность, например, 8 часов.

> ##### У меня хороший телефон, почему трек так сильно скачет из стороны в сторону?
> Телефоны умеют хорошо экономить заряд и, вместо использования прожорливого определения координат по GPS, могут в фоновом режиме переходить на определение примерных координат, основываясь на том, какие базовые станции сотовой сети видны телефону. В Android можно включить режим определения местоположения только по GPS, и тогда в лесу всё будет отлично, но в помещениях телефон может не определять местоположение вообще или делать это несколько минут.

> ##### Записанный трек прерывается, что делать?
> Попробуйте найти решение [здесь](https://dontkillmyapp.com) по модели телефона.
  
> ##### Очень плохо работает, не трек, а какой-то мусор. Что делать?
> Использовать другой трекер из списка.

## Как добавлять фотографии местности в GIS.EXTREMUM
- проверить, что на телефоне включена передача геоданных, а в настройках камеры - функция добавления геометки к фотографии,
- сделать фотографию,
- открыть Telegram и найти пользователя **@extremum_sasbot**,
- нажать значок **Скрепка**,
- выбрать **Файл** -> **Галерея** и открыть нужную фотографию,
- в случае успешной загрузки бот сообщит об этом (**Геометка есть, фото появится на карте**), а фотография через некоторое время появится на слое **Фото местности**.

> ##### Ошибки при отправке фотографии боту
> - если фотография была сделана без добавления к файлу информации о местоположении, то бот выдаст ошибку (**Файл не содержит геометки и, увы, не подходит**),
> - при отправке фотографии боту как "фото или видео", а не как "файл", отобразится сообщение (**Нет, так не получится. Телега сжимает фотографию и стирает геометки перед отправкой фотки. Поэтому её надо отправлять как Документ. Тогда она не сжимается и из неё можно извлечь координаты**).

[Инструкция](http://forum.extremum.org/viewtopic.php?f=6&t=24782) на форуме ПСО Экстремум.

> ##### Что делать, если координаты фотографий часто неточные?
> Помогает хорошо настроенный трекер в фоне. Это гарантирует отличную привязку фотографий к местности.

> ##### Что делать, если "то есть метки, то нет"?
> Если разблокировать телефон и быстро что-то сфотографировать, то он просто не успевает определить координаты или записывает туда неточные координаты. В этих случаях тоже хорошо помогает запись трека.

> ##### Бот подтвердил получение фотографии, но на карте она не появилась. Что делать?
> Подождать. Из-за технических особенностей системы на синхронизацию фотографий между серверами требуется некоторое время. Максимальное время на синхронизацию фотографий может составлять 7 дней после загрузки.

## Как добавлять треки в GIS.EXTREMUM
- треки, добавленные в отчеты о ПСР в базе данных Экстремум, попадают в ГИС автоматически,
- если трек был записан на навигаторе, то потребуется сначала скопировать файл трека на устройство с установленным Telegram,
- открыть Telegram и найти пользователя **@extremum_sasbot**,
- нажать значок **Скрепка**,
- выбрать **Файл** и открыть нужный трек,
- в случае успешной загрузки бот сообщит об этом (**Трек example.gpx получил, обработал и загружаю в систему**), а трек через некоторое время появится на слое **Все треки поисков**.

> ##### Бот подтвердил получение трека, но на карте он не отобразился. Что делать?
> Подождать. Из-за технических особенностей системы на синхронизацию треков между серверами требуется некоторое время. Максимальное время на синхронизацию треков может составлять 7 дней после загрузки.

> ##### Почему не получается загрузить трек KML (.kml/.kmz)?
> Бот поддерживает только загрузку треков в формате GPS Exchange (.gpx), поэтому добавить трек в другом формате можно только предварительно сконвертировав его в .gpx.
